{% load widget_tweaks %}

<form action="{% url 'sale:step2' %}" method="post" id="listing-form" enctype="multipart/form-data">
    {% csrf_token %}

    {% with WIDGET_ERROR_CLASS='is-invalid' %}

        <div class="form-group row">
            <label for="{{ form.year.auto_id }}" class="col-sm-3 col-form-label">{{ form.year.label }}</label>
            <div class="col-sm-9">
                {% render_field form.year class+='form-control' %}
                {% include 'partials/field-errors.html' with errors=form.year.errors %}
            </div>
        </div>

        <div class="form-group row">
            <label for="{{ form.make.auto_id }}" class="col-sm-3 col-form-label">{{ form.make.label }}</label>
            <div class="col-sm-9">
                {% render_field form.make class+='form-control' %}
                {% include 'partials/field-errors.html' with errors=form.make.errors %}
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ form.model.auto_id }}"
                   class="col-sm-3 col-form-label">{{ form.model.label }}</label>
            <div class="col-sm-9">
                {% render_field form.model class+='form-control' disabled='disabled' %}
                {% include 'partials/field-errors.html' with errors=form.model.errors %}
            </div>
        </div>

        <hr class="mt-4 mb-4">

        <div class="form-group row">
            <label for="{{ form.category.auto_id }}"
                   class="col-sm-3 col-form-label">{{ form.category.label }}</label>
            <div class="col-sm-9">
                {% render_field form.category class+='form-control' %}
                {% include 'partials/field-errors.html' with errors=form.category.errors %}
            </div>
        </div>
        <div class="form-group row d-none">
            <label for="{{ form.subcategory.auto_id }}"
                   class="col-sm-3 col-form-label">{{ form.subcategory.label }}</label>
            <div class="col-sm-9">
                {% render_field form.subcategory class+='form-control' disabled='disabled' %}
                {% include 'partials/field-errors.html' with errors=form.subcategory.errors %}
            </div>
        </div>

        <div class="form-group row">
            <label for="{{ form.price.auto_id }}"
                   class="col-sm-3 col-form-label">{{ form.price.label }}</label>
            <div class="col-sm-5">
                {% render_field form.price class+='form-control' %}
                {% include 'partials/field-errors.html' with errors=form.price.errors %}
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ form.mileage.auto_id }}"
                   class="col-sm-3 col-form-label">{{ form.mileage.label }}</label>
            <div class="col-sm-5">
                {% render_field form.mileage class+='form-control' %}
                {% include 'partials/field-errors.html' with errors=form.mileage.errors %}
            </div>
        </div>

        <div class="form-group row">
            <label for="{{ form.description.auto_id }}"
                   class="col-sm-3 col-form-label">{{ form.description.label }}</label>
            <div class="col-sm-7">
                {% render_field form.description class+='form-control' rows='5' %}
                {% include 'partials/field-errors.html' with errors=form.description.errors %}
            </div>
        </div>

        <hr class="mt-4 mb-4">

        <div class="row">
            <label for="" class="col-sm-3 col-form-label">Photos/Images</label>

            <div class="form-group col-sm-9">
                <input type="file" name="photos" id="sale-photos" multiple>
            </div>
        </div>

        {% include 'sale/form_actions.html' %}

    {% endwith %}
</form>
